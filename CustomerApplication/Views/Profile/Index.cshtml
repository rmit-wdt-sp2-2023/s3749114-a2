@model ProfileViewModel
@{ ViewData["Title"] = "Profile"; }

<h1>Profile</h1>

@if (@ViewBag.DisplayEditDetailsSuccess)
{
    <div class="alert alert-success" role="alert">Profile updated successfully.</div>
}
@if (ViewBag.DisplayChangePasswordSuccess)
{
    <div class="alert alert-success" role="alert">Password updated successfully.</div>
}
@if (ViewBag.DisplayUploadProfilePictureSuccess)
{
    <div class="alert alert-success" role="alert">Profile picture updated successfully.</div>
}
@if (ViewBag.DisplayRemoveProfilePictureSuccess)
{
    <div class="alert alert-success" role="alert">Profile picture removed successfully.</div>
}

@if (Model.ProfilePicture is null)
{
    <img style="width: 400px; height: 400px; object-fit: contain; background-color: #d9e9ff" 
         alt="Profile picture" src="@Url.Content("../ProfilePictures/default.png")">
}
else
{
    <img style="width: 400px; height: 400px; object-fit: contain; background-color: #d9e9ff" 
         alt="Profile picture" src="@Url.Content($"../ProfilePictures/{Model.ProfilePicture}")">
}
<a asp-action="UploadProfilePicture">Upload profile picture</a>
<a asp-action="RemoveProfilePicture">Remove profile picture</a>

<h2>Details</h2>
<dl class="row">
    <dt class="col-sm-2">@Html.DisplayNameFor(x => Model.Name)</dt>
    <dd class="col-sm-10">@Model.Name</dd>
    <dt class="col-sm-2">@Html.DisplayNameFor(x => Model.TFN)</dt>
    @if (Model.TFN is null)
    {
        <dd class="col-sm-10">-</dd>
    }
    else
    {
        <dd class="col-sm-10">@Model.TFN</dd>
    }
    <dt class="col-sm-2">@Html.DisplayNameFor(x => Model.Address)</dt>
    @if (Model.Address is null)
    {
        <dd class="col-sm-10">-</dd>
    }
    else
    {
        <dd class="col-sm-10">@Model.Address</dd>
    }
    <dt class="col-sm-2">@Html.DisplayNameFor(x => Model.City)</dt>
    @if (Model.City is null)
    {
        <dd class="col-sm-10">-</dd>
    }
    else
    {
        <dd class="col-sm-10">@Model.City</dd>
    }
    <dt class="col-sm-2">@Html.DisplayNameFor(x => Model.State)</dt>
    @if (Model.State is null)
    {
        <dd class="col-sm-10">-</dd>
    }
    else
    {
        <dd class="col-sm-10">@Model.State</dd>
    }
    <dt class="col-sm-2">@Html.DisplayNameFor(x => Model.PostCode)</dt>
    @if (Model.PostCode is null)
    {
        <dd class="col-sm-10">-</dd>
    }
    else
    {
        <dd class="col-sm-10">@Model.PostCode</dd>
    }
    <dt class="col-sm-2">@Html.DisplayNameFor(x => Model.Mobile)</dt>
    @if (Model.Mobile is null)
    {
        <dd class="col-sm-10">-</dd>
    }
    else
    {
        <dd class="col-sm-10">@Model.Mobile</dd>
    }
</dl>
<a asp-action="EditDetails">Edit details</a>

<h2>Password</h2>
<a asp-action="ChangePassword">Change password</a>